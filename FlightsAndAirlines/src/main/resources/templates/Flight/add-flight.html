<!DOCTYPE html> <!-- Declares the document as HTML5 -->
<html xmlns:th="http://www.thymeleaf.org"> <!-- Enables Thymeleaf logic for dynamic data binding -->
<head>
    <meta charset="UTF-8"> <!-- Sets character encoding for the page -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Ensures responsive scaling for mobile -->
    <title>Flight Dashboard | Emerald Edition 2026</title> <!-- Tab title -->
    
    <!-- Link to Bootstrap 5.3 for modern UI layout -->
    <link href="https://cdn.jsdelivr.net" rel="stylesheet">
    <!-- Link to Google Fonts for 'Inter' typography -->
    <link href="https://fonts.googleapis.com" rel="stylesheet">

    <style>
        body {
            /* Sets a clean, modern 2026-style font stack */
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Inter", sans-serif;
            /* Applies a diagonal orange-to-dark-orange gradient background */
            background: linear-gradient(135deg, #ffa733 0%, #ff7b00 100%);
            min-height: 100vh; /* Ensures full-screen background coverage */
            margin: 0; /* Removes default margin */
            display: flex; /* Uses Flexbox to center the form card */
            justify-content: center; /* Horizontally centers the card */
            align-items: center; /* Vertically centers the card */
            -webkit-font-smoothing: antialiased; /* Renders smoother text on macOS */
        }

        .form-card {
            background: rgba(255, 255, 255, 0.98); /* Near-opaque white card */
            padding: 50px 70px; /* Internal card spacing */
            border-radius: 18px; /* Rounded card corners */
            box-shadow: 0 15px 45px rgba(0,0,0,0.3); /* Deep shadow for 3D effect */
            width: 95%; /* Responsive width */
            max-width: 1350px; /* Set wide for multi-column inputs */
        }

        /* Container for side-by-side input fields */
        .flex-row-custom {
            display: flex; /* Horizontal layout */
            gap: 30px; /* Space between inputs */
            width: 100%; /* Spans full width of card */
            margin-bottom: 25px; /* Spacing between rows */
        }

        .flex-item {
            flex: 1; /* Allows fields to grow equally in the row */
            margin-right: 19px; /* Extra spacing on the right side */
        }

        h2 { 
            font-weight: 700; /* Bold header weight */
            color: #ff8c00; /* Primary orange theme color */
            margin-bottom: 40px; /* Space below title */
            letter-spacing: -0.5px; /* Tighter typography style */
        }

        label { 
            font-weight: 600; /* Semi-bold label */
            font-size: 0.85rem; /* Smaller, cleaner label text */
            color: #555; /* Medium grey color */
            margin-bottom: 8px; /* Space above input */
            display: block; /* Forces label onto its own line */
        }

        .form-control, .form-select {
            border-radius: 8px; /* Uniform rounded corners for inputs */
            border: 1px solid #ced4da; /* Subtle grey border */
            padding: 12px 16px; /* Comfortable clicking area */
            background-color: #ffffff; /* White background */
            width: 100%; /* Spans full width of flex item */
            transition: all 0.2s ease; /* Smooth hover/focus effects */
        }

        /* Glowing focus effect in primary orange */
        .form-control:focus, .form-select:focus {
            border-color: #ff8c00;
            box-shadow: 0 0 0 4px rgba(255, 140, 0, 0.2);
            outline: none;
        }

        .btn-submit {
            background-color: #ff8c00; /* Matches brand color */
            color: white; /* Contrast text */
            border: none; /* Clean look */
            padding: 14px 60px; /* Large, easy-to-tap button */
            border-radius: 8px; /* Rounded corners */
            font-weight: 700; /* Extra bold text */
            float: right; /* Aligns button to the bottom right */
            margin-top: 20px; /* Space above button */
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.3); /* Button depth */
            transition: 0.3s; /* Smooth interaction */
        }
        
        .btn-submit:hover {
            background-color: #ffa733; /* Lightens on hover */
            transform: translateY(-2px); /* Lifts up slightly on hover */
        }
    </style>
</head>
<body>

<div class="form-card">
    <h2>Add New Flight Schedule</h2>

    <!-- Form mapped to Controller POST endpoint, binding data to the 'flight' object -->
    <form th:action="@{/api/add}" th:object="${flight}" method="POST">
        
        <!-- Row 1: Source & Destination -->
        <div class="flex-row-custom">
            <div class="flex-item">
                <label>Departure Source</label>
                
                <input type="text" th:field="*{source}" class="form-control" placeholder="Origin City" required>
            </div>
            <div class="flex-item">
                <label>Arrival Destination</label>
                
                <input type="text" th:field="*{destination}" class="form-control" placeholder="Arrival City" required>
            </div>
        </div>

        <!-- Row 2: Dates -->
        <div class="flex-row-custom">
            <div class="flex-item">
                <label>Departure Date</label>
                <input type="date" th:field="*{departureDate}" class="form-control" required>
            </div>
            <div class="flex-item">
                <label>Arrival Date</label>
                <input type="date" th:field="*{arrivalDate}" class="form-control" required>
            </div>
        </div>

        <!-- Row 3: Times -->
        <div class="flex-row-custom">
            <div class="flex-item">
                <label>Departure Time</label>
                <input type="time" th:field="*{departureTime}" class="form-control" required>
            </div>
            <div class="flex-item">
                <label>Arrival Time</label>
                <input type="time" th:field="*{arrivalTime}" class="form-control" required>
            </div>
        </div>

        <!-- Row 4: Class & Airline Selection -->
        <div class="flex-row-custom">
            <div class="flex-item">
                <label>Class Name</label>
                <!-- Selects from AirlineClass Enum constants -->
                <select th:field="*{className}" class="form-select" required>
                    <option value="" selected> Select Class </option>
                    <!-- Iterates through Enum values to generate options -->
                     </option>
                </select>
            </div>
            <div class="flex-item">
                <label>Enterprise Name</label>
                <!-- Maps the selected Airline ID to the controller -->
                <select name="enterprise" class="form-select" required>
                    <option value="" selected>Select Airline</option>
                    <!-- Populates dropdown from 'airlines' list passed via Model -->
                    <option th:each="air : ${airlines}" th:value="${air.Aid}" th:text="${air.AirName}"></option>
                </select>
            </div>
        </div>

        <!-- Row 5: Logistics & Capacity -->
        <div class="flex-row-custom">
            <div class="flex-item">
                <label>Flight Price ($)</label>
                <input type="number" step="0.01" th:field="*{flightPrice}" class="form-control" placeholder="0.00">
            </div>
            <div class="flex-item">
                <label>Duration (Min)</label>
                <input type="number" th:field="*{duration}" class="form-control">
            </div>
            <div class="flex-item">
                <label>Total Seats</label>
                <input type="number" th:field="*{totSeat}" class="form-control">
            </div>
            <div class="flex-item">
                <label>Available Seats</label>
                <input type="number" th:field="*{availSeat}" class="form-control">
            </div>
        </div>

        <!-- Submit Section -->
        <div style="overflow: auto; margin-top: 30px;">
            <!-- Clicking triggers the POST /api/add request -->
            <button type="submit" class="btn btn-submit shadow-sm">Save Flight</button>
        </div>
    </form>
</div>

</body>
</html>
